## 5/6 - TP3 - Documentation

À partir de votre projet GitHub « 3SK-VotreDA ».

- Créez le dossier `TP3` et dans ce dossier, créez les sous-dossiers suivants ainsi que le contenu demandé.
- Pour chaque `test`, effectuez la commande demandée et copiez-collez la commande ET son résultat dans le fichier markdown demandé.
- Les captures d'écran sont acceptées **UNIQUEMENT** lorsque demandées pour les interfaces web (Roundcube, iRedAdmin).

### Structure des dossiers et fichiers

| Sous-dossier | Fichier                    | Description                                                                                                                                                                                                                | Points     |
|:-------------|:---------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------|
| **Config** | commands.md                | Liste des commandes Linux générales que vous jugez utiles pour administrer un serveur mail                                                                                                                                 | 5 pts      |
| **Config** | infos.md                   | Notes sur le serveur mail :<br/>- Emplacements des fichiers de configuration<br/>- Comptes administrateur et mots de passe<br/>- URLs d'accès aux interfaces<br/>- Ports utilisés                                          | 5 pts      |
| **Config** | services.md                | Liste et description des services installés :<br/>- Postfix, Dovecot, Amavis, ClamAV, etc.<br/>- Leur rôle et commandes de gestion                                                                                         | 3 pts      |
| **DNS** | local_dns_records.png      | Capture d'écran de votre configurationDNS dans Pi-hole                                                                                                                                                                     | 2 pts      |
| **Mail/Config** | hosts                      | Contenu du fichier `/etc/hosts` du serveur mail                                                                                                                                                                            | 1 pt       |
| **Mail/Config** | netplan.yaml               | Configuration réseau Netplan (50-cloud-init.yaml)                                                                                                                                                                          | 1 pt       |
| **Mail/Config** | roundcube_config.php       | Fichier `/opt/www/roundcubemail/config/config.inc.php`                                                                                                                                                                     | 2 pts      |
| **Mail/Utilisateurs** | mailbox_list.md            | Liste des utilisateurs avec leurs quotas :<br/>`SELECT username, name, quota, active FROM mailbox;`                                                                                                                        | 2 pts      |
| **Tests/Mail** | hostname_verification.md   | Commandes :<br/>`hostname`<br/>`hostname -f`<br/>`hostnamectl`                                                                                                                                                             | 1 pt       |
| **Tests/Mail** | services_status.md         | État de tous les services :<br/>`systemctl status postfix dovecot nginx mariadb amavis clamav-daemon php8.3-fpm iredadmin iredapd`                                                                                         | 2 pts      |
| **Tests/Mail** | ports_listening.md         | Ports en écoute :<br/>`sudo ss -tlnp \| grep -E ':25\|:587\|:143\|:993\|:443\|:10024\|:10026'`                                                                                                                             | 2 pts      |
| **Tests/Mail** | mail_queue.md              | File d'attente mail (doit être vide) :<br/>`sudo postqueue -p`                                                                                                                                                             | 1 pt       |
| **Tests/Mail** | disk_usage.md              | Utilisation disque par utilisateur :<br/>`sudo du -sh /var/vmail/vmail1/formation.lan/*/`                                                                                                                                  | 1 pt       |
| **Tests/Envoi** | cric_to_crac_logs.md       | Logs d'envoi d'un email de cric vers crac :<br/>`sudo grep "cric@formation.lan" /var/log/mail.log \| tail -50`                                                                                                             | 3 pts      |
| **Tests/Envoi** | crac_to_croc_logs.md       | Logs d'envoi d'un email de crac vers croc avec pièce jointe :<br/>Inclure les logs montrant le scan Amavis "Passed CLEAN"                                                                                                  | 3 pts      |
| **Tests/Envoi** | alias_equipe_logs.md       | Logs d'envoi vers l'alias equipe@formation.lan :<br/>Montrer la distribution vers cric et crac                                                                                                                             | 2 pts      |
| **Tests/Reception** | roundcube_inbox_cric.png   | Capture d'écran de la boîte de réception de cric dans Roundcube montrant les emails reçus                                                                                                                                  | 2 pts      |
| **Tests/Reception** | roundcube_inbox_crac.png   | Capture d'écran de la boîte de réception de crac dans Roundcube montrant les emails reçus                                                                                                                                  | 2 pts      |
| **Tests/Reception** | roundcube_read_email.png   | Capture d'écran d'un email ouvert dans Roundcube avec pièce jointe visible                                                                                                                                                 | 2 pts      |
| **Tests/Admin** | iredadmin_login.png        | Capture d'écran de la page de connexion iRedAdmin                                                                                                                                                                          | 1 pt       |
| **Tests/Admin** | iredadmin_dashboard.png    | Capture d'écran du tableau de bord iRedAdmin montrant les utilisateurs                                                                                                                                                     | 2 pts      |
| **Tests/Admin** | iredadmin_user_details.png | Capture d'écran des détails d'un utilisateur (quota, statut)                                                                                                                                                               | 2 pts      |
| **Tests/Monitoring** | realtime_logs_sending.md   | Logs en temps réel pendant l'envoi d'un email :<br/>`sudo tail -f /var/log/mail.log`<br/>Montrer toutes les étapes : connexion, auth, queue, amavis, delivery                                                              | 4 pts      |
| **Tests/Monitoring** | mail_statistics.md         | Statistiques du serveur :<br/>- Nombre total d'emails<br/>- Espace disque utilisé<br/>- Dernières connexions                                                                                                               | 2 pts      |
| **Tests/Fonctionnalites** | roundcube_folders.png      | Capture d'écran montrant les dossiers créés par un utilisateur                                                                                                                                                             | 1 pt       |
| **Tests/Fonctionnalites** | roundcube_contacts.png     | Capture d'écran du carnet d'adresses avec au moins 2 contacts                                                                                                                                                              | 1 pt       |
| **Tests/Fonctionnalites** | roundcube_signature.png    | Capture d'écran de la configuration de signature d'un utilisateur                                                                                                                                                          | 1 pt       |
| **Tests/Depannage** | error_resolution.md        | Documentation d'AU MOINS UNE erreur rencontrée et sa résolution :<br/>- Description du problème<br/>- Logs de l'erreur<br/>- Commandes utilisées pour diagnostiquer<br/>- Solution appliquée<br/>- Validation du correctif | 5 pts      |
| |                            | <div align="right">**TOTAL**</div>                                                                                                                                                                                         | **65 pts** |